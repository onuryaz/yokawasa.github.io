---
layout: post
status: publish
published: true
title: azuresshconfig has been dockerized!
author:
  display_name: Yoichi Kawasaki
  login: yoichi
  email: yokawasa@gmail.com
  url: http://github.com/yokawasa
author_login: yoichi
author_email: yokawasa@gmail.com
author_url: http://github.com/yokawasa
wordpress_id: 114
wordpress_url: http://unofficialism.info/posts/?p=114
date: '2017-02-05 16:12:24 +0900'
date_gmt: '2017-02-05 07:12:24 +0900'
categories:
- Announcement
- Azure
tags:
- Python
- openssh
- docker
- Container
---
<p><font color=red>UPDATED</font> 2017-02-15: changed docker run command example due to <a href="https://github.com/yokawasa/azure-ssh-config/issues/4">Issue#4</a><br />
<center><br />
<img src="https://c1.staticflickr.com/3/2386/32753419552_9dc00e1771_c.jpg" width="800" height="412" alt="Update Note azuresshconfig-0.2.3"><br />
</center></p>
<p><br><br><br></p>
<p>（記事はここから）<br />
以前「<a href="http://unofficialism.info/posts/azuresshconfig/">azuresshconfigの紹介 &ndash; Azure上でのSSH生活を少しだけ快適にする</a>」の投稿で<a href="https://github.com/yokawasa/azure-ssh-config">azuresshconfig</a>の紹介をさせていただいたが、ツールをリリースして以来、数少ない貴重な利用者様からインストールがコケるんだけど何とかしろというクレームをいただいていた。そこでインストールマニュアルを充実させようかとか、インストーラーをプラットフォーム別に充実させようかとか考えたものの、ここは流行りのコンテナ実行できるようしたほうがいいだろうということで<a href="https://hub.docker.com/r/yoichikawasaki/azuresshconfig/">Docker対応</a>することにした。</p>
<p>今回の対応によりpipインストールや、プラットフォーム別にprerequisiteなランタイム、ヘッダファイル、ライブラリといった面倒なインストールが不要となり、Mac、Windows、Linux(Ubuntu、CentOS、その他distro)関係なくシンプルにdocker runコマンドでの実行が可能となった。</p>
<p>しかも超軽量Linuxディストリビューションである<a href="https://alpinelinux.org/">Alpine Linux</a>の上にPythonランタイムとツールを載せているだけであるためサイズはたったの155MBとかなり軽め<br />
<code lang=shell><br />
$ docker images azuresshconfig<br />
REPOSITORY                          TAG                 IMAGE ID            CREATED             SIZE<br />
azuresshconfig                     latest              7488bef4343f        7 minutes ago       155 MB<br />
</code></p>
<h2>実行例</h2>
<p><code lang=shell><br />
$ docker run -v $HOME:/root --rm -it yoichikawasaki/azuresshconfig \<br />
    --output stdout --user yoichika --identityfile ~/.ssh/id_rsa > $HOME/.ssh/config<br />
</code>$HOME/.ssh/config</p>
<p><a href="https://github.com/yokawasa/azure-ssh-config/blob/master/Dockerfile">Dockerfile</a>をダウンロードしてビルド・実行はこちら</p>
<p><code lang=shell><br />
$ curl https://raw.githubusercontent.com/yokawasa/azure-ssh-config/master/Dockerfile -o Dockerfile<br />
$ docker build -t azuresshconfig .<br />
$ docker run -v $HOME:/root --rm -it yoichikawasaki/azuresshconfig \<br />
    --output stdout --user yoichika --identityfile ~/.ssh/id_rsa > $HOME/.ssh/config<br />
</code></p>
<h2>LINKS</h2>
<ul style="list-style:disc inside">
<li><a href="https://hub.docker.com/r/yoichikawasaki/azuresshconfig/">yoichikawasaki/azuresshconfig ＠ Docker Hub</a></li>
<li><a href="https://github.com/yokawasa/azure-ssh-config">https://github.com/yokawasa/azure-ssh-config</a></li>
</ul>
<p><br><br><br><br />
Enjoy SSH life on Azure with dockerized azuresshconfig!</p>
